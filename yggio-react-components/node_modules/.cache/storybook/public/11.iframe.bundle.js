/*
 * Copyright 2022 Sensative AB
 * 
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[11],{

/***/ "./src/yggio-connected-components/device-view-pane/sub-components/contextual-parameters.tsx":
/*!**************************************************************************************************!*\
  !*** ./src/yggio-connected-components/device-view-pane/sub-components/contextual-parameters.tsx ***!
  \**************************************************************************************************/
/*! exports provided: default */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "../../../.yarn/cache/@babel-runtime-npm-7.17.2-ec60bc114d-a48702d271.zip/node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "../../../.yarn/cache/@babel-runtime-npm-7.17.2-ec60bc114d-a48702d271.zip/node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../../../.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_json_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-json-view */ "../../../.yarn/__virtual__/react-json-view-virtual-bfa6744f19/0/cache/react-json-view-npm-1.21.3-7827bb54c4-5718bcd921.zip/node_modules/react-json-view/dist/main.js");
/* harmony import */ var react_json_view__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "../../../.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks */ "./src/hooks/index.js");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../state */ "./src/yggio-connected-components/device-view-pane/state.js");
/* harmony import */ var _utils_form_wizard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/form-wizard */ "./src/utils/form-wizard/index.ts");
/* harmony import */ var _global_styled__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../global/styled */ "./src/global/styled.js");
/* harmony import */ var _styled__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../styled */ "./src/yggio-connected-components/device-view-pane/styled.js");
/* harmony import */ var _components_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/button */ "./src/components/button/index.js");
/* harmony import */ var _components_text_field__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/text-field */ "./src/components/text-field/index.js");
var ContextualParameters=function ContextualParameters(props){var contextMapForm=Object(_hooks__WEBPACK_IMPORTED_MODULE_5__[/* useLocalState */ "a"])(_state__WEBPACK_IMPORTED_MODULE_6__[/* contextMapState */ "f"]);var handleUpdateDeviceContextMap=function handleUpdateDeviceContextMap(){var _props$deviceItem;var key=contextMapForm.formInputs.contextMapKey.value;var value=contextMapForm.formInputs.contextMapValue.value;var updates={contextMap:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},(_props$deviceItem=props.deviceItem)===null||_props$deviceItem===void 0?void 0:_props$deviceItem.contextMap,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({},key,value))};props.updateDeviceMutation.mutate({updates:updates,deviceId:props.deviceItem._id});contextMapForm.setInputValue('contextMapKey','');contextMapForm.setInputValue('contextMapValue','');};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_global_styled__WEBPACK_IMPORTED_MODULE_8__[/* FlexColWrapper */ "d"],null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,"Add a contextual parameter:"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_global_styled__WEBPACK_IMPORTED_MODULE_8__[/* FlexWrapper */ "i"],{style:{alignItems:'center'}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_text_field__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"],{width:'100px',margin:'0 5px 0 0',name:'contextMapKey',onChange:function onChange(evt){return contextMapForm.setInputValue('contextMapKey',evt.target.value);},placeholder:'Key',value:contextMapForm.formInputs.contextMapKey.value}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_text_field__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"],{width:'100px',margin:'0 5px 0 0',name:'contextMapValue',onChange:function onChange(evt){return contextMapForm.setInputValue('contextMapValue',evt.target.value);},placeholder:'Value',value:contextMapForm.formInputs.contextMapValue.value}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_button__WEBPACK_IMPORTED_MODULE_10__[/* default */ "a"],{disabled:!Object(_utils_form_wizard__WEBPACK_IMPORTED_MODULE_7__[/* isFormValid */ "k"])(contextMapForm.formInputs),onClick:handleUpdateDeviceContextMap,color:'green',content:'Add',height:'35px'})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h6",{style:{color:'red',marginBottom:'30px'}},contextMapForm.formInputs.contextMapKey.value&&!contextMapForm.formInputs.contextMapKey.validation.isValid&&contextMapForm.formInputs.contextMapKey.validation.message),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",null,props.t('titles.contextualParameters')),lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isEmpty(props.deviceItem.contextMap)&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_global_styled__WEBPACK_IMPORTED_MODULE_8__[/* MarginWrapper */ "o"],{margin:'0 0 40px'},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_styled__WEBPACK_IMPORTED_MODULE_9__[/* NoDataText */ "N"],null,props.t('phrases.noContextualParametersAdded'))),props.deviceItem.contextMap&&!lodash__WEBPACK_IMPORTED_MODULE_4___default.a.isEmpty(props.deviceItem.contextMap)&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_json_view__WEBPACK_IMPORTED_MODULE_3___default.a,{src:props.deviceItem.contextMap,onEdit:function onEdit(_ref){var updatedData=_ref.updated_src;var updates={contextMap:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},props.deviceItem.contextMap,updatedData)};props.updateDeviceMutation.mutate({updates:updates,deviceId:props.deviceItem._id});},onDelete:function onDelete(_ref2){var name=_ref2.name;var updates={contextMap:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},lodash__WEBPACK_IMPORTED_MODULE_4___default.a.omit(props.deviceItem.contextMap,name))};props.updateDeviceMutation.mutate({updates:updates,deviceId:props.deviceItem._id});}}));};ContextualParameters.displayName="ContextualParameters";/* harmony default export */ __webpack_exports__["default"] = (ContextualParameters);

try {
    // @ts-ignore
    contextualparameters.displayName = "contextualparameters";
    // @ts-ignore
    contextualparameters.__docgenInfo = { "description": "", "displayName": "contextualparameters", "props": { "deviceItem": { "defaultValue": null, "description": "", "name": "deviceItem", "required": true, "type": { "name": "Device" } }, "updateDeviceMutation": { "defaultValue": null, "description": "", "name": "updateDeviceMutation", "required": true, "type": { "name": "UseMutationResult<string, unknown, Updates, unknown>" } }, "t": { "defaultValue": null, "description": "", "name": "t", "required": true, "type": { "name": "(key: string) => string" } } } };
    // @ts-ignore
    if (typeof STORYBOOK_REACT_CLASSES !== "undefined")
        // @ts-ignore
        STORYBOOK_REACT_CLASSES["src/yggio-connected-components/device-view-pane/sub-components/contextual-parameters.tsx#contextualparameters"] = { docgenInfo: contextualparameters.__docgenInfo, name: "contextualparameters", path: "src/yggio-connected-components/device-view-pane/sub-components/contextual-parameters.tsx#contextualparameters" };
}
catch (__react_docgen_typescript_loader_error) { }


/***/ })

}]);
//# sourceMappingURL=11.iframe.bundle.js.map